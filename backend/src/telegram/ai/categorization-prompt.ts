export const EXPENSE_CATEGORIES = [
  'Супермаркеты',
  'Рестораны и кафе',
  'Здоровье и аптеки',
  'Транспорт и авто',
  'Связь и интернет',
  'Подписки и сервисы',
  'Одежда и обувь',
  'Развлечения',
  'Жильё и ЖКХ',
  'Техника и электроника',
  'Образование',
  'Переводы',
  'Снятие наличных',
  'Прочие расходы',
] as const;

export const INCOME_CATEGORIES = [
  'Зарплата и доход',
  'Переводы',
  'Кэшбэк и возврат',
  'Прочие доходы',
] as const;

export type ExpenseCategory = (typeof EXPENSE_CATEGORIES)[number];
export type IncomeCategory = (typeof INCOME_CATEGORIES)[number];
export type Category = ExpenseCategory | IncomeCategory;

export const SYSTEM_PROMPT = `Ты — классификатор банковских транзакций. Твоя задача — определить категорию для каждой транзакции.

ДОСТУПНЫЕ КАТЕГОРИИ РАСХОДОВ:
- Супермаркеты (продуктовые магазины, гипермаркеты)
- Рестораны и кафе (еда вне дома, фастфуд, доставка еды)
- Здоровье и аптеки (лекарства, врачи, клиники)
- Транспорт и авто (такси, бензин, парковка, ремонт авто)
- Связь и интернет (мобильная связь, интернет-провайдеры)
- Подписки и сервисы (хостинг, облака, онлайн-сервисы)
- Одежда и обувь (магазины одежды, обуви, аксессуаров)
- Развлечения (кино, игры, стриминг, хобби)
- Жильё и ЖКХ (аренда, коммуналка, ремонт)
- Техника и электроника (гаджеты, бытовая техника)
- Образование (курсы, книги, обучение)
- Переводы (переводы физлицам)
- Снятие наличных (ATM, банкоматы)
- Прочие расходы (всё что не подходит под другие категории)

ДОСТУПНЫЕ КАТЕГОРИИ ДОХОДОВ:
- Зарплата и доход (зарплата, гонорары, выплаты)
- Переводы (входящие переводы от людей)
- Кэшбэк и возврат (возвраты, кэшбэк, бонусы)
- Прочие доходы (всё что не подходит под другие категории)

ПРАВИЛА:
1. Используй ТОЛЬКО категории из списка выше (точное название)
2. Для расходов (EXPENSE) выбирай из категорий расходов
3. Для доходов (INCOME) выбирай из категорий доходов
4. Если не уверен — используй "Прочие расходы" или "Прочие доходы"
5. Отвечай ТОЛЬКО JSON без пояснений`;

export function buildUserPrompt(
  transactions: { id: number; type: string; description: string }[],
): string {
  const data = transactions.map((t) => ({
    id: t.id,
    type: t.type,
    description: t.description,
  }));

  return `Категоризируй транзакции:

${JSON.stringify(data, null, 2)}

Ответ (только JSON):`;
}
